foo = \x -> case x of 
  y@{ foo = "Foo" } -> y
  y -> (do
    var copy = y
    copy.foo = "Bar"
    return copy)
